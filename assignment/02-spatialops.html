<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Intro to Spatial Data in R - Spatial Data Operations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//files/iSDR_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<meta property="og:title" content="Intro to Spatial Data in R - Spatial Data Operations">
<meta property="og:description" content="The second part of the course was designed to introduce basic operations with vector and raster data.">
<meta property="og:image" content="https://isdrfall22.classes.spaseslab.com/files/social-image-f22.png">
<meta property="og:site-name" content="Intro to Spatial Data in R">
<meta property="og:locale" content="en_US">
<meta name="twitter:title" content="Intro to Spatial Data in R - Spatial Data Operations">
<meta name="twitter:description" content="The second part of the course was designed to introduce basic operations with vector and raster data.">
<meta name="twitter:image" content="https://isdrfall22.classes.spaseslab.com/files/social-image-f22.png">
<meta name="twitter:creator" content="@MwilliamsonMatt">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Intro to Spatial Data in R</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html">Syllabus</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html">Schedule</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../content/index.html">Content</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../assignment/index.html" aria-current="page">Assignments</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../example/index.html">Examples</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resource/index.html">Resources</a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://ecostatsbsu.slack.com/archives/CV4DEJ8M7"><i class="bi bi-slack" role="img" aria-label="Slack">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/BSU-Spatial-Data-in-R-Fall2022"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://rstudio-lxp-01.boisestate.edu/auth-sign-in?appUri=%2F"><i class="bi bi-cloud-fill" role="img" aria-label="Rstudio">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Spatial Data Operations</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Overview</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/index.html" class="sidebar-item-text sidebar-link">Assignments</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Self Assessments</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/self-eval1.html" class="sidebar-item-text sidebar-link">Self-reflection 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/self-eval2.html" class="sidebar-item-text sidebar-link">Self-reflection 2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/self-eval3.html" class="sidebar-item-text sidebar-link">Self-reflection 3</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Homework</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/01-intro.html" class="sidebar-item-text sidebar-link">Introducing the course</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/02-spatialops.html" class="sidebar-item-text sidebar-link active">Spatial Data Operations</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/03-spatialmod.html" class="sidebar-item-text sidebar-link">Spatial Models</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/04-dataviz.html" class="sidebar-item-text sidebar-link">Data Visualization</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Final Project</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assignment/final-proj.html" class="sidebar-item-text sidebar-link">Final Project</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#instructions" id="toc-instructions" class="nav-link active" data-scroll-target="#instructions">Instructions</a></li>
  <li><a href="#vector-data" id="toc-vector-data" class="nav-link" data-scroll-target="#vector-data">Vector data</a>
  <ul class="collapse">
  <li><a href="#packages-and-datasets" id="toc-packages-and-datasets" class="nav-link" data-scroll-target="#packages-and-datasets">Packages and datasets</a></li>
  <li><a href="#practicing-with-vector-data" id="toc-practicing-with-vector-data" class="nav-link" data-scroll-target="#practicing-with-vector-data">Practicing with vector data</a></li>
  </ul></li>
  <li><a href="#raster-data" id="toc-raster-data" class="nav-link" data-scroll-target="#raster-data">Raster Data</a>
  <ul class="collapse">
  <li><a href="#practicing-with-vector-data-1" id="toc-practicing-with-vector-data-1" class="nav-link" data-scroll-target="#practicing-with-vector-data-1">Practicing with vector data</a></li>
  </ul></li>
  <li><a href="#integrating-the-two" id="toc-integrating-the-two" class="nav-link" data-scroll-target="#integrating-the-two">Integrating the two</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Spatial Data Operations</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<p>The second part of the course was designed to introduce basic operations with vector and raster data. These operations will form the basis for building the spatial databases that underlie the bulk of statistical analyses we’ll conduct in this class and probably in your graduate research. <a href="https://classroom.github.com/a/aVkLtKUm">This homework</a> is designed to give you practice building your spatial workflow and using the various functions we’ve learned to maniputlate both vector and raster data. By the end of this assignment you should be able to:</p>
<ul>
<li><p>Use <strong>predicates, measures, and transformations</strong> to clean, subset, and change vector data</p></li>
<li><p>Alter the resolution, extent, and data values of rasters</p></li>
<li><p>Build new datasets based on the relations between vector and raster data</p></li>
</ul>
<section id="instructions" class="level2">
<h2 class="anchored" data-anchor-id="instructions">Instructions</h2>
<ol type="1">
<li><p>After you’ve joined the assignment repository, you should have this file (named Readme.md) inside of a R project named assignment-1-xx where xx is your github username (or initials). All of the data should be accessible on the server at <code>/opt/data/2022/assignment02/</code>.</p></li>
<li><p>Once you’ve verified that you’ve correctly cloned the assignment repository, create a new Quarto document. Name this file assignment-2-xxx.qmd and give it a title (like M Williamson Assignment 2). Make sure that you select the html output option (Quarto can do a lot of cool things, but the html format is the least-likely to cause you additional headaches). We’ll be using Quarto throughout the course so it’s worth checking out the other tutorials in the getting started section.</p></li>
<li><p>Copy the questions below into your document and change the color of their text.</p></li>
<li><p>Save the changes and make your first commit!</p></li>
<li><p>Answer the questions making sure save and commit at least 4 more times (having 5 commits is part of the assignment).</p></li>
<li><p>Render the document to html (you should now have at least 3 files in the repository: Readme.md, assignment-2-xx.qmd, and assignment-2-xx.html). Commit these changes and push them to the repository on GitHub. You should see the files there when you go to github.com.</p></li>
</ol>
</section>
<section id="vector-data" class="level2">
<h2 class="anchored" data-anchor-id="vector-data">Vector data</h2>
<section id="packages-and-datasets" class="level3">
<h3 class="anchored" data-anchor-id="packages-and-datasets">Packages and datasets</h3>
<p>The <a href="https://github.com/walkerke/tigris"><code>tigris</code></a> package provides a number of handy functions for accessing different US geographic regions based on the US Census and the TIGER (Topologically Integrated Geographic Encoding and Referencing) system. You can download states (using <code>states()</code>), counties (using <code>counties()</code>), etc and have all of the objects returned as <code>sf</code> objects. Check out the package webpage to get a sense for what it can do!</p>
<p>For the next few weeks, we’ll be using data from the High Country News <a href="https://www.landgrabu.org/">Land Grab University</a> project. These data depict the role of expropriated Indigenous land in funding the fifty-two land-grant universities in the United States. They contain information on nearly 11 million acres of Indigenous land taken from ~250 Tribes, bands and communities through a multitude of treaties and violent land seizures. Check it out as it will help you understand what these data are depicting.</p>
<p>One of the other datasets we’ll use fairly regulrarly during this class is the United States Protected Areas Database (<a href="https://www.usgs.gov/core-science-systems/science-analytics-and-synthesis/gap/science/protected-areas">PAD-US</a>). PAD-US is America’s official national inventory of U.S. terrestrial and marine protected areas that are dedicated to the preservation of biological diversity and to other natural, recreation and cultural uses, managed for these purposes through legal or other effective means. The PADUS provides a lot of interesting information on land tenure arrangements in the US. Ecologists often rely on comparisons to these protected ares to understand the effects of anthropogenic change. Finally, you’ll probably have to make a map at some point in your life and these protected areas are often useful tools for helping ‘orient’ people to the landscape you are mapping. As an additional bonus, the geometries in this dataset can be a real challenge to work with so you’ll get a chance to practice some important diagnostics and trouble-shooting. For this assignment, we have restricted the data to the “Designation” type (i.e., protected via means not requiring Congress) in the Western US.</p>
</section>
<section id="practicing-with-vector-data" class="level3">
<h3 class="anchored" data-anchor-id="practicing-with-vector-data">Practicing with vector data</h3>
<p>The data for this lab are in our shared folder (located at <code>/opt/data/2022/assignment02/</code>). There are several shapefiles in that folder (denoted by the <code>.shp</code> suffix in the file name).</p>
<ol type="1">
<li><p>Load the <code>landgrab_parcel.shp</code> dataset. What is the CRS? How about the extent? Lastly, are the geometries valid? If not, make them valid. Show your code.</p></li>
<li><p>Load the <code>PA_designation.shp</code> dataset. What is the CRS? How about the extent? Lastly, are the geometries valid? If not, make them valid. Show your code.</p></li>
<li><p>Project all of the vector datasets to the same CRS. Show your code. How did you choose which CRS to use?</p></li>
<li><p>Now buffer the entire <code>PA_designation.shp</code> features by 50km and calculate the resulting area. What is the area of the largest buffered PA? Show your code.</p></li>
<li><p>Subset the entire <code>landgrab_parcel.shp</code> so that it only contains parcels that overlap your boffered <code>PA_designation.shp</code> object. How many parcels overlap the buffered PAs? How big is the largest parcel? What state has the most parcels that overlap the buffered PAs?</p></li>
<li><p>Use the <code>tigris::states()</code> function to download state boundaries and filter them so that you only have the boundary for the state that contains the most parcels (from step 3). Show your code.</p></li>
<li><p>Crop the <code>landgrab_parcel.shp</code> and <code>PA_designation.shp</code> objects using your state boundary. How many features remain after you’ve cropped the datasets? Show your code.</p></li>
</ol>
</section>
</section>
<section id="raster-data" class="level2">
<h2 class="anchored" data-anchor-id="raster-data">Raster Data</h2>
<p>We’re going to evaluate the current conditions are of the parcels that were sold in and around protected areas using two different raster datasets. The first comes from the <a href="https://placeslab.org/places/">PLACES lab</a> at Boston University. This data depict land values across the contiguous United States at a fairly high resolution. The PLACES data was developed to better understand the costs, benefits, and motivaitons for private land conservation. The development and validation of this data is described in this <a href="https://www.pnas.org/content/117/47/29577">article</a>. The second is a categorical raster from the National Land Cover Dataset downloaded via the <a href="https://github.com/ropensci/FedData"><code>FedData</code></a> package. <code>FedData</code> downloads the file as a <code>raster</code> so you’ll need to convert it to a SpatRaster. Similarly, you need to give the <code>get_nlcd</code> function a <code>Spatial</code> object so you’ll need to convert your cropped parcel dataset to a SpatialPolygonsDataframe (using <code>as(parcelname, "Spatial")</code>. See the helpfile for more info.</p>
<section id="practicing-with-vector-data-1" class="level3">
<h3 class="anchored" data-anchor-id="practicing-with-vector-data-1">Practicing with vector data</h3>
<ol start="6" type="1">
<li><p>Load the <code>places_fmv_all.tif</code> file as a SpatRaster and download the 2019 NLCD for the state with the most parcels (from step 3) data (using <code>FedData::get_nlcd()</code>). What CRS are the SpatRasters in? What is their resolution? How do the extents compare? Show your code.</p></li>
<li><p>The two rasters don’t align. Write out the pseudocode for the steps hyou would take to get them into alignment.</p></li>
<li><p>Dealing with differing resolutions can be tricky and there are a few options for either upscaling fine resolution data or downscaling coarse resolution data. What are they and what are the benefits/drawbacks of each approach?</p></li>
<li><p>Based on your answers to number 7 and 8 process the rasters so that their CRS, resolution, and extents align.</p></li>
<li><p>We might be concerned about mapping errors in the NLCD dataset (sometimes pixels get misclassified). Let’s smooth that layer out by applying a 5x5 moving window. Make sure that you drop the NAs.</p></li>
</ol>
</section>
</section>
<section id="integrating-the-two" class="level2">
<h2 class="anchored" data-anchor-id="integrating-the-two">Integrating the two</h2>
<p>Now that you have a cropped parcel layer that depicts the parcels that are within 50km of protected areas and two rasters that have the same CRS, resolution, and extent; let’s integrate them a bit.</p>
<ol start="11" type="1">
<li><p>Generate a new SpatRaster depicting the distance from all pixels that are classified as “Evergreen Forest” in the NLCD layer. You’ll need to reclassify the smoothed NLCD layer so that all values that aren’t “Evergreen Forest” are set to NA and then use <code>terra::distance</code> to generate the estimate.</p></li>
<li><p>Stack the distance raster and the land value raster (you may have to align them a bit). Then extract the mean values for each variable within each of your parcels (from step 5). Remember, that you’ll need to make sure the parcels have the same CRS as the stack.</p></li>
<li><p>Now extract the land cover from your smoothed raster. What is the dominant landcover type of the first 10 parcels in that dataset.</p></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Content <i class="fa-brands fa-creative-commons" aria-hidden="true"></i> 2022 by <a href="https://www.spaseslab.com">Matt Williamson</a> <br> All content licensed under a <i class="fa-brands fa-creative-commons" aria-hidden="true"></i> <i class="fa-brands fa-creative-commons-by" aria-hidden="true"></i> <i class="fa-brands fa-creative-commons-nc" aria-hidden="true"></i> <a href="https://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International license (CC BY-NC 4.0)</a></div>   
    <div class="nav-footer-right">Made with <i class="fa-brands fa-r-project" aria-hidden="true"></i> and <a href="https://quarto.org/">Quarto</a><br> <a href="https://www.github.com/mattwilliamson/isdrfall22">View the source at <i class="fa-brands fa-github" aria-hidden="true"></i> GitHub</a> Based on websites designed by <a href="https://github.com/andrewheiss/evalf22.classes.andrewheiss.com">Andrew Heiss</a></div>
  </div>
</footer>



</body></html>